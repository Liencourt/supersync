{% load static i18n %}
<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">

<head>
    <meta charset="utf-8" />
    <title>{% block title %}{% endblock title %} | SuperSync - SAERJ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Analise Gerencial." name="description" />
    <meta content="Coderthemes" name="author" />

    <link rel="icon" href="{% static 'images/favicon.ico' %}" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    {% block css %}
        {% block extra_css %}{% endblock extra_css %}
        <script src="{% static 'js/config.js' %}"></script>
        <link href="{% static 'css/app.min.css' %}" rel="stylesheet" />
        <link href="{% static 'css/icons.min.css' %}" rel="stylesheet" />
    {% endblock css %}
</head>

<body data-layout="vertical" data-layout-color="dark" data-sidebar="dark">

    {% if user.is_authenticated %}
        <div class="wrapper">
            
            {% include "partials/topbar.html" %}
            {% include "partials/sidebar.html" %}
            
            <div class="content-page">
                <div class="content">
                    <div class="container-fluid">
                        
                        {% block page_title %}{% endblock %}

                        {% if messages %}
                            <div class="row mt-3">
                                <div class="col-12">
                                    {% for message in messages %}
                                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-sm" role="alert">
                                            {{ message }}
                                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
    {% else %}
        <div class="auth-page-wrapper">
    {% endif %}

            {% block content %}{% endblock content %}

    {% if user.is_authenticated %}
                    </div> </div> 

            </div> </div> {% else %}
        </div> {% endif %}

    {% block extra_modals %}{% endblock extra_modals %}
    {% block modal %}{% endblock modal %}

    <script src="{% static 'js/vendors.min.js' %}"></script>
    <script src="{% static 'js/app.min.js' %}"></script>

    {% block extra_javascript %}{% endblock extra_javascript %}
</body>
</html>
<style>
    /* 1. SIDEBAR: Fixo, altura total, começando do topo */
    .sidenav-menu, .left-side-menu, .app-sidebar {
        position: fixed !important;
        top: 0 !important;       /* Começa lá no teto */
        left: 0 !important;
        bottom: 0 !important;
        width: 260px !important; /* Largura padrão */
        z-index: 1005 !important; /* Fica acima de tudo */
        background-color: #313a46; /* Cor de fundo */
        overflow-y: auto;        /* Scroll se o menu for comprido */
        padding-top: 0 !important;
    }

    /* 2. CONTEÚDO PRINCIPAL: Margem na esquerda */
    .content-page {
        margin-left: 260px !important; /* Empurra para o lado do menu */
        display: flex;
        flex-direction: column;
        min-height: 100vh; /* Garante que a página ocupe a tela toda */
    }

    .content {
        flex-grow: 1;
        padding-bottom: 60px;
        
        /* ADICIONE ESSA LINHA ABAIXO: */
        padding-top: 10px !important; /* Empurra o conteúdo para baixo da Topbar */
    }

    /* 4. FOOTER: Ajuste para não colar */
    .footer {
        background: #fff;       /* Garante fundo para não ficar transparente */
        padding: 20px;          /* Espaço interno */
        border-top: 1px solid #eef2f7; /* Linha sutil de separação */
        position: relative;     /* Evita que ele flutue por cima do texto */
        /* Se quiser ele fixo na tela, use position: fixed; bottom: 0; right: 0; left: 260px; */
    }

    /* 5. TOPBAR: Ajuste fino */
    .navbar-custom, .app-topbar {
        /* Se o menu lateral já tem o logo, a barra de topo começa DEPOIS dele */
        /* left: 260px !important;  <-- DESCOMENTE SE A BARRA ESTIVER EM CIMA DO LOGO */
    }
</style>